package RMIStudent;
import java.io.*;
import java.rmi.server.UnicastRemoteObject;
import java.util.ArrayList;
import java.rmi.*;
@SuppressWarnings("serial")
public class ActionFile extends UnicastRemoteObject implements RmiInterface{
	protected ActionFile() throws RemoteException {
		super();
	}
	public void SaveFileStudent(ArrayList<Student> student, String FileName) throws RemoteException
	{
		try
		{
			ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(FileName));
			oos.writeObject(student);
			oos.close();
			System.out.println("Ghi File Student thanh cong..!");
		}
		catch(IOException ex)
		{
			 ex.printStackTrace();
		}
	}
	@SuppressWarnings({ "unchecked", "resource" })
	public ArrayList<Student> LoadFileStudent(String FileName) throws RemoteException
	{
		try
		{
			ObjectInputStream ois = new ObjectInputStream(new FileInputStream(FileName));
			ArrayList<Student> student = null;
			student = (ArrayList<Student>) ois.readObject();
			System.out.println("Load File thanh cong.!");
			return student;
		}
		catch (IOException ex) 
		{
			System.out.println("Error Read file");
			return null;
        } 
		catch (ClassNotFoundException ex) 
		{
			System.out.println("Class not found");
			return null;
		}
	}
}
